{
  "id": "msg_014obtTY6FpM43Ez7AnTFjbx",
  "type": "message",
  "role": "assistant",
  "model": "claude-sonnet-4-5-20250929",
  "content": [
    {
      "type": "text",
      "text": "<scratchpad>\nLet me plan this comprehensive React application:\n\n1. **Component Structure:**\n   - Single main component `BadgerResearchGraph`\n   - State management for: activeTab, selectedDomain, graphData, showModal, selectedEdge, hypotheses, loading states\n   - Modular rendering functions for each tab\n\n2. **Domain Configurations:**\n   - Create a DOMAIN_CONFIGS object with all 5 domains\n   - Each domain has: name, icon, entityTypes (with colors), relationshipTypes (with colors), example data\n   - Example data includes: title, nodes array, edges array, papers array\n\n3. **Graph Implementation:**\n   - Use ForceGraph2D from react-force-graph-2d\n   - Node styling: color by entity type, size by degree\n   - Edge styling: color by relationship type, curved with arrows\n   - Click handlers for edges to show modal\n\n4. **State Variables Needed:**\n   - activeTab: 0 (UW Research), 1 (Search), 2 (Upload)\n   - selectedDomain: current domain key\n   - graphData: { nodes, links }\n   - selectedEdge: for modal display\n   - showEdgeModal: boolean\n   - searchQuery: string\n   - searchProgress: string\n   - hypotheses: array\n   - uploadedFiles: array\n   - apiKey: string (optional)\n\n5. **Mock Data Structure:**\n   - For each domain, create complete example with ~10 nodes and ~6 edges\n   - Include confidence scores, evidence quotes, paper sources\n\n6. **API Integration:**\n   - I'll use mock responses to ensure it works out of the box\n   - Mock responses for: search papers, upload papers, generate hypotheses\n   - Simulate realistic delays with setTimeout\n\n7. **Key Hooks:**\n   - useState for all state management\n   - useEffect to update graph when domain changes\n   - useRef for force graph reference\n   - useCallback for memoized functions\n\n8. **Styling:**\n   - Tailwind CSS classes throughout\n   - UW Red #C5050C for primary elements\n   - Custom colors for each domain's entity/relationship types\n   - Responsive design\n   - Smooth transitions with transition-all duration-300\n</scratchpad>\n\n<react_app>\n```jsx\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport ForceGraph2D from 'react-force-graph-2d';\n\nconst DOMAIN_CONFIGS = {\n  biomedicine: {\n    name: 'Biomedicine',\n    icon: 'ðŸ§¬',\n    entityTypes: {\n      gene: { color: '#3B82F6', label: 'Gene' },\n      disease: { color: '#EF4444', label: 'Disease' },\n      drug: { color: '#10B981', label: 'Drug' },\n      protein: { color: '#F59E0B', label: 'Protein' }\n    },\n    relationshipTypes: {\n      CAUSES: { color: '#F97316', label: 'Causes' },\n      TREATS: { color: '#10B981', label: 'Treats' },\n      INHIBITS: { color: '#EF4444', label: 'Inhibits' },\n      ACTIVATES: { color: '#A855F7', label: 'Activates' },\n      ASSOCIATES_WITH: { color: '#3B82F6', label: 'Associates With' },\n      BIOMARKER_FOR: { color: '#EC4899', label: 'Biomarker For' }\n    },\n    example: {\n      title: 'Cancer Immunotherapy - Carbone Cancer Center',\n      nodes: [\n        { id: 'PD-1', type: 'protein', label: 'PD-1' },\n        { id: 'PD-L1', type: 'protein', label: 'PD-L1' },\n        { id: 'CTLA-4', type: 'protein', label: 'CTLA-4' },\n        { id: 'Melanoma', type: 'disease', label: 'Melanoma' },\n        { id: 'Lung Cancer', type: 'disease', label: 'Lung Cancer' },\n        { id: 'Pembrolizumab', type: 'drug', label: 'Pembrolizumab' },\n        { id: 'Nivolumab', type: 'drug', label: 'Nivolumab' },\n        { id: 'Ipilimumab', type: 'drug', label: 'Ipilimumab' },\n        { id: 'CD8', type: 'protein', label: 'CD8' },\n        { id: 'T-cell Receptor', type: 'protein', label: 'T-cell Receptor' },\n        { id: 'IFN-gamma', type: 'protein', label: 'IFN-gamma' }\n      ],\n      edges: [\n        { source: 'Pembrolizumab', target: 'PD-1', type: 'INHIBITS', confidence: 0.96, evidence: 'Pembrolizumab is a humanized antibody used in cancer immunotherapy that targets the programmed cell death protein 1 (PD-1) receptor of lymphocytes.', page: 3 },\n        { source: 'PD-1', target: 'T-cell Receptor', type: 'INHIBITS', confidence: 0.94, evidence: 'PD-1 is an immune checkpoint receptor that downregulates T-cell activation and proliferation when engaged by its ligands.', page: 5 },\n        { source: 'Pembrolizumab', target: 'Melanoma', type: 'TREATS', confidence: 0.91, evidence: 'Clinical trials demonstrated significant improvement in progression-free survival in metastatic melanoma patients treated with pembrolizumab.', page: 12 },\n        { source: 'CD8', target: 'Melanoma', type: 'TREATS', confidence: 0.82, evidence: 'CD8+ T cells play a critical role in anti-tumor immunity through direct cytotoxic activity against melanoma cells.', page: 8 },\n        { source: 'PD-L1', target: 'Melanoma', type: 'BIOMARKER_FOR', confidence: 0.87, evidence: 'PD-L1 expression levels correlate with response rates to checkpoint inhibitor therapy in melanoma patients.', page: 15 },\n        { source: 'Nivolumab', target: 'Lung Cancer', type: 'TREATS', confidence: 0.88, evidence: 'Nivolumab monotherapy showed superior overall survival compared to docetaxel in previously treated non-small-cell lung cancer.', page: 18 }\n      ],\n      papers: [\n        { title: 'PD-1 Blockade in Melanoma and Lung Cancer', authors: 'Smith et al.', year: 2023, journal: 'Nature Medicine' },\n        { title: 'Mechanisms of Checkpoint Inhibitor Therapy', authors: 'Johnson et al.', year: 2023, journal: 'Cell' },\n        { title: 'Biomarkers for Immunotherapy Response', authors: 'Williams et al.', year: 2024, journal: 'NEJM' }\n      ]\n    }\n  },\n  computerScience: {\n    name: 'Computer Science',\n    icon: 'ðŸ’»',\n    entityTypes: {\n      algorithm: { color: '#3B82F6', label: 'Algorithm' },\n      problem: { color: '#EF4444', label: 'Problem' },\n      technique: { color: '#10B981', label: 'Technique' },\n      system: { color: '#F59E0B', label: 'System' },\n      dataset: { color: '#A855F7', label: 'Dataset' }\n    },\n    relationshipTypes: {\n      SOLVES: { color: '#10B981', label: 'Solves' },\n      OPTIMIZES: { color: '#A855F7', label: 'Optimizes' },\n      OUTPERFORMS: { color: '#F97316', label: 'Outperforms' },\n      REQUIRES: { color: '#3B82F6', label: 'Requires' },\n      ENABLES: { color: '#14B8A6', label: 'Enables' },\n      EVALUATES_ON: { color: '#EC4899', label: 'Evaluates On' }\n    },\n    example: {\n      title: 'AI/ML Research - UW CS Department',\n      nodes: [\n        { id: 'Transformer', type: 'algorithm', label: 'Transformer' },\n        { id: 'BERT', type: 'system', label: 'BERT' },\n        { id: 'GPT', type: 'system', label: 'GPT' },\n        { id: 'Attention Mechanism', type: 'technique', label: 'Attention Mechanism' },\n        { id: 'Image Classification', type: 'problem', label: 'Image Classification' },\n        { id: 'NLP', type: 'problem', label: 'NLP' },\n        { id: 'ResNet', type: 'algorithm', label: 'ResNet' },\n        { id: 'ImageNet', type: 'dataset', label: 'ImageNet' },\n        { id: 'Transfer Learning', type: 'technique', label: 'Transfer Learning' },\n        { id: 'Vision Transformer', type: 'algorithm', label: 'Vision Transformer' },\n        { id: 'LSTM', type: 'algorithm', label: 'LSTM' },\n        { id: 'Seq2Seq', type: 'technique', label: 'Seq2Seq' }\n      ],\n      edges: [\n        { source: 'Attention Mechanism', target: 'Transformer', type: 'ENABLES', confidence: 0.95, evidence: 'The attention mechanism allows the model to dynamically focus on different parts of the input sequence, enabling the Transformer architecture to effectively capture long-range dependencies.', page: 4 },\n        { source: 'Transformer', target: 'NLP', type: 'SOLVES', confidence: 0.92, evidence: 'Transformer models have achieved state-of-the-art results across a wide range of natural language processing tasks including translation, summarization, and question answering.', page: 7 },\n        { source: 'BERT', target: 'LSTM', type: 'OUTPERFORMS', confidence: 0.89, evidence: 'BERT achieved significant improvements over LSTM-based models on the GLUE benchmark, with an average score increase of 7.7%.', page: 11 },\n        { source: 'Transfer Learning', target: 'Image Classification', type: 'OPTIMIZES', confidence: 0.88, evidence: 'Transfer learning reduces training time and improves accuracy on image classification tasks by leveraging pre-trained representations from large-scale datasets.', page: 9 },\n        { source: 'Vision Transformer', target: 'ImageNet', type: 'EVALUATES_ON', confidence: 0.91, evidence: 'When pre-trained on sufficient data, Vision Transformers attain excellent results on ImageNet classification, reaching 88.55% top-1 accuracy.', page: 13 },\n        { source: 'ResNet', target: 'Transfer Learning', type: 'REQUIRES', confidence: 0.85, evidence: 'ResNet architectures benefit significantly from transfer learning, as training from scratch requires substantial computational resources and data.', page: 6 }\n      ],\n      papers: [\n        { title: 'Attention Is All You Need', authors: 'Vaswani et al.', year: 2017, journal: 'NeurIPS' },\n        { title: 'BERT: Pre-training of Deep Bidirectional Transformers', authors: 'Devlin et al.', year: 2019, journal: 'NAACL' },\n        { title: 'An Image is Worth 16x16 Words', authors: 'Dosovitskiy et al.', year: 2021, journal: 'ICLR' }\n      ]\n    }\n  },\n  economics: {\n    name: 'Economics',\n    icon: 'ðŸ“Š',\n    entityTypes: {\n      policy: { color: '#3B82F6', label: 'Policy' },\n      economic_indicator: { color: '#EF4444', label: 'Economic Indicator' },\n      market: { color: '#10B981', label: 'Market' },\n      theory: { color: '#F59E0B', label: 'Theory' },\n      intervention: { color: '#A855F7', label: 'Intervention' }\n    },\n    relationshipTypes: {\n      INFLUENCES: { color: '#F97316', label: 'Influences' },\n      CORRELATES_WITH: { color: '#3B82F6', label: 'Correlates With' },\n      CAUSES: { color: '#EF4444', label: 'Causes' },\n      MITIGATES: { color: '#10B981', label: 'Mitigates' },\n      PREDICTS: { color: '#A855F7', label: 'Predicts' },\n      RESPONDS_TO: { color: '#EC4899', label: 'Responds To' }\n    },\n    example: {\n      title: 'Labor Economics Research - UW Economics',\n      nodes: [\n        { id: 'Minimum Wage', type: 'policy', label: 'Minimum Wage' },\n        { id: 'Employment Rate', type: 'economic_indicator', label: 'Employment Rate' },\n        { id: 'Job Training Programs', type: 'intervention', label: 'Job Training Programs' },\n        { id: 'Income Inequality', type: 'economic_indicator', label: 'Income Inequality' },\n        { id: 'Unemployment', type: 'economic_indicator', label: 'Unemployment' },\n        { id: 'GDP Growth', type: 'economic_indicator', label: 'GDP Growth' },\n        { id: 'Wage Growth', type: 'economic_indicator', label: 'Wage Growth' },\n        { id: 'Labor Market', type: 'market', label: 'Labor Market' },\n        { id: 'Inflation', type: 'economic_indicator', label: 'Inflation' },\n        { id: 'Productivity', type: 'economic_indicator', label: 'Productivity' }\n      ],\n      edges: [\n        { source: 'Minimum Wage', target: 'Employment Rate', type: 'INFLUENCES', confidence: 0.78, evidence: 'Empirical studies using difference-in-differences methodology show modest effects of minimum wage increases on employment rates, with elasticities ranging from -0.1 to -0.3.', page: 15 },\n        { source: 'Job Training Programs', target: 'Unemployment', type: 'MITIGATES', confidence: 0.85, evidence: 'Randomized controlled trials demonstrate that structured job training programs reduce long-term unemployment by 12-18% among participants.', page: 22 },\n        { source: 'GDP Growth', target: 'Wage Growth', type: 'CORRELATES_WITH', confidence: 0.91, evidence: 'Time series analysis reveals a strong positive correlation (r=0.87) between GDP growth and real wage growth over the past four decades.', page: 8 },\n        { source: 'Productivity', target: 'Wage Growth', type: 'PREDICTS', confidence: 0.83, evidence: 'Productivity gains are a significant predictor of wage growth, with a one percentage point increase in productivity associated with 0.7% wage increases.', page: 18 },\n        { source: 'Inflation', target: 'GDP Growth', type: 'RESPONDS_TO', confidence: 0.79, evidence: 'Vector autoregression models show that inflation rates respond to GDP growth with a lag of 2-3 quarters, suggesting demand-pull inflation dynamics.', page: 12 },\n        { source: 'Income Inequality', target: 'Labor Market', type: 'CAUSES', confidence: 0.76, evidence: 'Rising income inequality has been associated with increased labor market segmentation and reduced intergenerational mobility.', page: 25 }\n      ],\n      papers: [\n        { title: 'The Effects of Minimum Wages on Employment', authors: 'Neumark & Shirley', year: 2022, journal: 'Journal of Economic Literature' },\n        { title: 'Job Training and Labor Market Outcomes', authors: 'Card et al.', year: 2023, journal: 'Quarterly Journal of Economics' },\n        { title: 'Productivity and Wage Dynamics', authors: 'Stansbury & Summers', year: 2023, journal: 'American Economic Review' }\n      ]\n    }\n  },\n  politicalScience: {\n    name: 'Political Science',\n    icon: 'ðŸ›ï¸',\n    entityTypes: {\n      policy: { color: '#3B82F6', label: 'Policy' },\n      actor: { color: '#EF4444', label: 'Actor' },\n      institution: { color: '#10B981', label: 'Institution' },\n      outcome: { color: '#F59E0B', label: 'Outcome' },\n      event: { color: '#A855F7', label: 'Event' }\n    },\n    relationshipTypes: {\n      ADVOCATES_FOR: { color: '#10B981', label: 'Advocates For' },\n      OPPOSES: { color: '#EF4444', label: 'Opposes' },\n      IMPLEMENTS: { color: '#3B82F6', label: 'Implements' },\n      LEADS_TO: { color: '#F97316', label: 'Leads To' },\n      INFLUENCES: { color: '#A855F7', label: 'Influences' },\n      RESULTS_FROM: { color: '#EC4899', label: 'Results From' }\n    },\n    example: {\n      title: 'Political Behavior Research - UW Political Science',\n      nodes: [\n        { id: 'Social Media', type: 'event', label: 'Social Media' },\n        { id: 'Political Polarization', type: 'outcome', label: 'Political Polarization' },\n        { id: 'Voter Turnout', type: 'outcome', label: 'Voter Turnout' },\n        { id: 'Campaign Finance', type: 'policy', label: 'Campaign Finance' },\n        { id: 'Democratic Party', type: 'actor', label: 'Democratic Party' },\n        { id: 'Republican Party', type: 'actor', label: 'Republican Party' },\n        { id: 'Electoral College', type: 'institution', label: 'Electoral College' },\n        { id: 'Misinformation', type: 'event', label: 'Misinformation' },\n        { id: 'Legislative Gridlock', type: 'outcome', label: 'Legislative Gridlock' },\n        { id: 'Public Opinion', type: 'outcome', label: 'Public Opinion' }\n      ],\n      edges: [\n        { source: 'Social Media', target: 'Political Polarization', type: 'INFLUENCES', confidence: 0.82, evidence: 'Panel studies show that increased social media usage is associated with heightened political polarization, with users 34% more likely to hold extreme partisan views.', page: 17 },\n        { source: 'Campaign Finance', target: 'Voter Turnout', type: 'INFLUENCES', confidence: 0.76, evidence: 'Campaign spending levels correlate with voter turnout rates, particularly in competitive districts where advertising expenditures are highest.', page: 24 },\n        { source: 'Misinformation', target: 'Political Polarization', type: 'LEADS_TO', confidence: 0.88, evidence: 'Experimental evidence demonstrates that exposure to political misinformation increases affective polarization by 0.4 standard deviations.', page: 11 },\n        { source: 'Electoral College', target: 'Voter Turnout', type: 'INFLUENCES', confidence: 0.73, evidence: 'Voter turnout is systematically lower in non-competitive states due to Electoral College winner-take-all rules, with differences of 7-12 percentage points.', page: 19 },\n        { source: 'Political Polarization', target: 'Legislative Gridlock', type: 'LEADS_TO', confidence: 0.84, evidence: 'Increased partisan polarization in Congress is strongly associated with legislative gridlock, reducing the passage rate of major legislation by approximately 40%.', page: 28 },\n        { source: 'Public Opinion', target: 'Democratic Party', type: 'INFLUENCES', confidence: 0.79, evidence: 'Survey data and policy responsiveness studies show that shifts in public opinion predict changes in Democratic Party platform positions with 6-12 month lags.', page: 14 }\n      ],\n      papers: [\n        { title: 'Social Media and Political Polarization', authors: 'Bail et al.', year: 2023, journal: 'American Political Science Review' },\n        { title: 'The Effects of Misinformation on Democracy', authors: 'Guess & Lyons', year: 2023, journal: 'Political Behavior' },\n        { title: 'Electoral Systems and Voter Participation', authors: 'Fowler', year: 2024, journal: 'Journal of Politics' }\n      ]\n    }\n  },\n  mathematics: {\n    name: 'Mathematics',\n    icon: 'ðŸ”¢',\n    entityTypes: {\n      theorem: { color: '#3B82F6', label: 'Theorem' },\n      conjecture: { color: '#EF4444', label: 'Conjecture' },\n      method: { color: '#10B981', label: 'Method' },\n      structure: { color: '#F59E0B', label: 'Structure' },\n      application: { color: '#A855F7', label: 'Application' }\n    },\n    relationshipTypes: {\n      PROVES: { color: '#10B981', label: 'Proves' },\n      GENERALIZES: { color: '#3B82F6', label: 'Generalizes' },\n      APPLIES_TO: { color: '#F97316', label: 'Applies To' },\n      BUILDS_ON: { color: '#A855F7', label: 'Builds On' },\n      CONTRADICTS: { color: '#EF4444', label: 'Contradicts' },\n      IMPLIES: { color: '#14B8A6', label: 'Implies' }\n    },\n    example: {\n      title: 'Algebraic Topology Research - UW Mathematics',\n      nodes: [\n        { id: 'Homotopy Theory', type: 'method', label: 'Homotopy Theory' },\n        { id: 'Fundamental Group', type: 'structure', label: 'Fundamental Group' },\n        { id: 'Category Theory', type: 'method', label: 'Category Theory' },\n        { id: 'Homology', type: 'method', label: 'Homology' },\n        { id: 'Cohomology', type: 'method', label: 'Cohomology' },\n        { id: 'Manifold', type: 'structure', label: 'Manifold' },\n        { id: 'Euler Characteristic', type: 'theorem', label: 'Euler Characteristic' },\n        { id: 'Topological Space', type: 'structure', label: 'Topological Space' },\n        { id: 'Algebraic Structure', type: 'structure', label: 'Algebraic Structure' },\n        { id: 'Simplicial Complex', type: 'structure', label: 'Simplicial Complex' }\n      ],\n      edges: [\n        { source: 'Category Theory', target: 'Homotopy Theory', type: 'GENERALIZES', confidence: 0.89, evidence: 'Category theory provides a unifying framework for homotopy theory through the language of functors, natural transformations, and universal properties.', page: 42 },\n        { source: 'Homology', target: 'Fundamental Group', type: 'BUILDS_ON', confidence: 0.94, evidence: 'Homology theory extends the algebraic invariants introduced by the fundamental group to higher dimensions using chain complexes and boundary operators.', page: 67 },\n        { source: 'Euler Characteristic', target: 'Manifold', type: 'APPLIES_TO', confidence: 0.96, evidence: 'The Euler characteristic provides a topological invariant for compact manifolds that can be computed via triangulation or homology groups.', page: 28 },\n        { source: 'Cohomology', target: 'Homology', type: 'GENERALIZES', confidence: 0.92, evidence: 'Cohomology dualizes homology theory and introduces additional algebraic structure including cup products and cohomology rings.', page: 89 },\n        { source: 'Homotopy Theory', target: 'Topological Space', type: 'PROVES', confidence: 0.88, evidence: 'Homotopy theory establishes fundamental results about the structure of topological spaces including the classification of covering spaces and fibrations.', page: 51 },\n        { source: 'Simplicial Complex', target: 'Topological Space', type: 'BUILDS_ON', confidence: 0.86, evidence: 'Simplicial complexes provide a combinatorial model for topological spaces that enables computational approaches to topological invariants.', page: 34 }\n      ],\n      papers: [\n        { title: 'Algebraic Topology', authors: 'Hatcher, A.', year: 2002, journal: 'Cambridge University Press' },\n        { title: 'Categories for the Working Mathematician', authors: 'Mac Lane, S.', year: 1998, journal: 'Springer' },\n        { title: 'Topology and Geometry', authors: 'Bredon, G.', year: 1997, journal: 'Springer' }\n      ]\n    }\n  }\n};\n\nexport default function BadgerResearchGraph() {\n  const [activeTab, setActiveTab] = useState(0);\n  const [selectedDomain, setSelectedDomain] = useState('biomedicine');\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\n  const [selectedEdge, setSelectedEdge] = useState(null);\n  const [showEdgeModal, setShowEdgeModal] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchProgress, setSearchProgress] = useState('');\n  const [hypotheses, setHypotheses] = useState([]);\n  const [showHypotheses, setShowHypotheses] = useState(false);\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isDragging, setIsDragging] = useState(false);\n  \n  const graphRef = useRef();\n  const fileInputRef = useRef();\n\n  const currentDomain = DOMAIN_CONFIGS[selectedDomain];\n\n  // Load example data when domain changes\n  useEffect(() => {\n    if (activeTab === 0) {\n      loadExampleData();\n    }\n  }, [selectedDomain, activeTab]);\n\n  const loadExampleData = () => {\n    const example = currentDomain.example;\n    const nodes = example.nodes.map(node => ({\n      id: node.id,\n      label: node.label,\n      type: node.type,\n      color: currentDomain.entityTypes[node.type].color,\n      val: 8\n    }));\n\n    const links = example.edges.map((edge, idx) => ({\n      source: edge.source,\n      target: edge.target,\n      type: edge.type,\n      confidence: edge.confidence,\n      evidence: edge.evidence,\n      page: edge.page,\n      color: currentDomain.relationshipTypes[edge.type].color,\n      id: `edge-${idx}`\n    }));\n\n    setGraphData({ nodes, links });\n    setShowHypotheses(false);\n  };\n\n  const handleEdgeClick = (link) => {\n    setSelectedEdge(link);\n    setShowEdgeModal(true);\n  };\n\n  const getPlaceholderForDomain = () => {\n    const placeholders = {\n      biomedicine: 'Search for papers on cancer immunotherapy, CRISPR gene editing, protein folding...',\n      computerScience: 'Search for papers on transformers, deep learning, neural networks...',\n      economics: 'Search for papers on labor markets, monetary policy, income inequality...',\n      politicalScience: 'Search for papers on voting behavior, polarization, institutions...',\n      mathematics: 'Search for papers on topology, category theory, differential equations...'\n    };\n    return placeholders[selectedDomain];\n  };\n\n  const handleSearch = async () => {\n    if (!searchQuery.trim()) return;\n    \n    setIsProcessing(true);\n    setSearchProgress('ðŸ” Searching academic databases...');\n    \n    await new Promise(resolve => setTimeout(resolve, 1500));\n    setSearchProgress('ðŸ“š Found 12 papers');\n    \n    await new Promise(resolve => setTimeout(resolve, 1000));\n    setSearchProgress('ðŸ§¬ Extracting entities and relationships...');\n    \n    await new Promise(resolve => setTimeout(resolve, 2000));\n    \n    // Generate mock search results based on domain\n    const mockNodes = generateMockNodes(6);\n    const mockLinks = generateMockLinks(mockNodes, 5);\n    \n    setGraphData({ nodes: mockNodes, links: mockLinks });\n    setSearchProgress('âœ… Analysis complete! Found ' + mockNodes.length + ' entities and ' + mockLinks.length + ' relationships.');\n    setIsProcessing(false);\n  };\n\n  const generateMockNodes = (count) => {\n    const entityTypes = Object.keys(currentDomain.entityTypes);\n    const nodes = [];\n    const prefixes = {\n      biomedicine: ['Protein', 'Gene', 'Drug', 'Disease', 'Receptor', 'Enzyme'],\n      computerScience: ['Algorithm', 'Model', 'System', 'Method', 'Network', 'Architecture'],\n      economics: ['Policy', 'Market', 'Indicator', 'Theory', 'Factor', 'Intervention'],\n      politicalScience: ['Policy', 'Institution', 'Actor', 'Movement', 'Event', 'Outcome'],\n      mathematics: ['Theorem', 'Structure', 'Method', 'Space', 'Function', 'Group']\n    };\n    \n    for (let i = 0; i < count; i++) {\n      const type = entityTypes[i % entityTypes.length];\n      const prefix = prefixes[selectedDomain][i % prefixes[selectedDomain].length];\n      nodes.push({\n        id: `${prefix}-${i + 1}`,\n        label: `${prefix} ${String.fromCharCode(65 + i)}`,\n        type: type,\n        color: currentDomain.entityTypes[type].color,\n        val: 6 + Math.random() * 4\n      });\n    }\n    return nodes;\n  };\n\n  const generateMockLinks = (nodes, count) => {\n    const relationshipTypes = Object.keys(currentDomain.relationshipTypes);\n    const links = [];\n    \n    for (let i = 0; i < Math.min(count, nodes.length - 1); i++) {\n      const type = relationshipTypes[i % relationshipTypes.length];\n      links.push({\n        source: nodes[i].id,\n        target: nodes[i + 1].id,\n        type: type,\n        confidence: 0.75 + Math.random() * 0.2,\n        evidence: `Research indicates a significant relationship between ${nodes[i].label} and ${nodes[i + 1].label} based on multiple studies.`,\n        page: Math.floor(Math.random() * 30) + 5,\n        color: currentDomain.relationshipTypes[type].color,\n        id: `edge-${i}`\n      });\n    }\n    return links;\n  };\n\n  const handleFileUpload = async (files) => {\n    setUploadedFiles(Array.from(files));\n    setIsProcessing(true);\n    setSearchProgress('ðŸ“„ Processing PDFs...');\n    \n    await new Promise(resolve => setTimeout(resolve, 1500));\n    setSearchProgress('ðŸ§¬ Extracting entities and relationships...');\n    \n    await new Promise(resolve => setTimeout(resolve, 2500));\n    \n    const mockNodes = generateMockNodes(8);\n    const mockLinks = generateMockLinks(mockNodes, 7);\n    \n    setGraphData({ nodes: mockNodes, links: mockLinks });\n    setSearchProgress('âœ… Analysis complete! Processed ' + files.length + ' paper(s).');\n    setIsProcessing(false);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    setIsDragging(false);\n    const files = e.dataTransfer.files;\n    if (files.length > 0) {\n      handleFileUpload(files);\n    }\n  };\n\n  const generateHypotheses = async () => {\n    setIsProcessing(true);\n    await new Promise(resolve => setTimeout(resolve, 2000));\n    \n    const mockHypotheses = {\n      biomedicine: [\n        {\n          title: 'Combined PD-1 and CTLA-4 Blockade May Enhance T-cell Activation',\n          confidence: 0.88,\n          reasoning: 'Based on the observed inhibitory pathways, dual checkpoint inhibition could synergistically enhance anti-tumor immunity by removing multiple T-cell suppression mechanisms.',\n          evidence: 'PD-1 and CTLA-4 operate through distinct mechanisms in T-cell regulation, suggesting complementary therapeutic effects.',\n          experiments: ['In vitro T-cell activation assays with dual blockade', 'Mouse tumor models comparing monotherapy vs combination', 'Phase I clinical trial in refractory melanoma']\n        },\n        {\n          title: 'PD-L1 Expression Levels Predict Response to Pembrolizumab',\n          confidence: 0.82,\n          reasoning: 'The strong biomarker relationship suggests PD-L1 could serve as a patient selection criterion for pembrolizumab therapy.',\n          evidence: 'Correlation between PD-L1 expression and treatment efficacy observed across multiple cancer types.',\n          experiments: ['Retrospective analysis of PD-L1 levels and treatment outcomes', 'Prospective biomarker-stratified clinical trial', 'Single-cell analysis of PD-L1+ tumor cells']\n        },\n        {\n          title: 'IFN-gamma Signaling May Mediate CD8+ T-cell Anti-tumor Activity',\n          confidence: 0.79,\n          reasoning: 'The connection between CD8 T-cells and tumor treatment suggests IFN-gamma as a potential mechanistic link worth investigating.',\n          evidence: 'IFN-gamma is a key effector cytokine produced by activated CD8+ T-cells with known anti-tumor properties.',\n          experiments: ['IFN-gamma knockout studies in tumor models', 'Measurement of IFN-gamma levels in responding patients', 'In vitro cytotoxicity assays with IFN-gamma blockade']\n        }\n      ],\n      computerScience: [\n        {\n          title: 'Vision Transformers May Outperform CNNs with Sufficient Pre-training Data',\n          confidence: 0.91,\n          reasoning: 'The combination of attention mechanisms and transfer learning suggests Vision Transformers could surpass convolutional architectures when trained on large-scale datasets.',\n          evidence: 'Transformers have demonstrated superior scaling properties in NLP, and similar dynamics may apply to computer vision.',\n          experiments: ['Large-scale pre-training experiments (>100M images)', 'Systematic comparison with ResNet on various dataset sizes', 'Analysis of attention patterns vs convolutional filters']\n        },\n        {\n          title: 'Hybrid Transformer-CNN Architectures Could Optimize Image Classification',\n          confidence: 0.84,\n          reasoning: 'Combining the inductive biases of CNNs with the flexibility of Transformers may provide optimal performance across diverse image tasks.',\n          evidence: 'Both architectures show complementary strengths in capturing local and global image features.',\n          experiments: ['Design and test hybrid architectures', 'Ablation studies on different integration strategies', 'Evaluation on fine-grained classification tasks']\n        },\n        {\n          title: 'Transfer Learning from BERT May Accelerate Seq2Seq Task Performance',\n          confidence: 0.80,\n          reasoning: 'BERT\\'s bidirectional pre-training could provide better initialization for sequence-to-sequence models than random initialization.',\n          evidence: 'Pre-trained representations have shown consistent benefits across NLP tasks.',\n          experiments: ['Fine-tune BERT for translation and summarization', 'Compare with Seq2Seq models trained from scratch', 'Analyze layer-wise transfer effectiveness']\n        }\n      ],\n      economics: [\n        {\n          title: 'Job Training Programs May Mitigate Minimum Wage Employment Effects',\n          confidence: 0.81,\n          reasoning: 'The combined analysis suggests that targeted training could offset potential employment disruptions from minimum wage increases by improving worker productivity.',\n          evidence: 'Both minimum wage and training programs affect employment through distinct mechanisms that may be complementary.',\n          experiments: ['Natural experiment using regional policy variation', 'Randomized controlled trial of training + wage policy', 'Structural modeling of labor market equilibrium']\n        },\n        {\n          title: 'Productivity Growth Acceleration Could Reduce Income Inequality',\n          confidence: 0.77,\n          reasoning: 'Since productivity predicts wage growth, boosting productivity broadly could raise wages for lower-income workers if gains are shared equitably.',\n          evidence: 'Historical periods of broad-based productivity growth coincided with reduced inequality.',\n          experiments: ['Cross-country panel analysis of productivity and inequality', 'Firm-level studies of productivity sharing mechanisms', 'Policy simulations of productivity-enhancing investments']\n        },\n        {\n          title: 'Inflation Targeting May Be More Effective During High GDP Growth Periods',\n          confidence: 0.75,\n          reasoning: 'The responsiveness of inflation to GDP growth suggests monetary policy effectiveness may vary with economic conditions.',\n          evidence: 'The identified lag structure indicates demand-side channels that are stronger during expansions.',\n          experiments: ['State-dependent VAR models of monetary policy', 'Historical case studies of policy regimes', 'DSGE model simulations with time-varying parameters']\n        }\n      ],\n      politicalScience: [\n        {\n          title: 'Social Media Literacy Programs Could Reduce Misinformation-Driven Polarization',\n          confidence: 0.83,\n          reasoning: 'Since both social media and misinformation drive polarization, interventions that improve media literacy could disrupt these pathways.',\n          evidence: 'Educational interventions have shown promise in reducing susceptibility to misinformation.',\n          experiments: ['Randomized trial of media literacy curriculum', 'Longitudinal survey tracking attitudes and misinformation exposure', 'Field experiment on social media platforms']\n        },\n        {\n          title: 'Campaign Finance Reform May Increase Voter Turnout in Non-competitive States',\n          confidence: 0.78,\n          reasoning: 'By altering campaign spending patterns, finance reforms could increase competitiveness and thereby boost participation in currently uncompetitive regions.',\n          evidence: 'The relationship between spending and turnout suggests that redistributing campaign resources could affect participation.',\n          experiments: ['Analysis of state-level campaign finance reforms', 'Synthetic control methods for policy evaluation', 'Survey experiments on perceived competitiveness']\n        },\n        {\n          title: 'Institutional Reforms to Reduce Gridlock Could Moderate Polarization',\n          confidence: 0.80,\n          reasoning: 'Breaking legislative gridlock through procedural reforms might reduce polarization by enabling compromise and policy achievement.',\n          evidence: 'The causal link from polarization to gridlock suggests feedback effects may operate in both directions.',\n          experiments: ['Comparative analysis of legislative rules across democracies', 'Agent-based models of legislative behavior', 'Historical case studies of institutional reforms']\n        }\n      ],\n      mathematics: [\n        {\n          title: 'Categorical Homotopy Theory May Provide New Proofs for Manifold Classification',\n          confidence: 0.87,\n          reasoning: 'The generalization of homotopy theory through category theory suggests new conceptual tools could yield alternative approaches to classical manifold theorems.',\n          evidence: 'Category theory has previously enabled new proofs of fundamental results by revealing underlying universal structures.',\n          experiments: ['Formalize manifold invariants in categorical framework', 'Apply higher category theory to cobordism classes', 'Investigate connections to derived algebraic geometry']\n        },\n        {\n          title: 'Computational Homology Could Accelerate Discovery of Topological Data Analysis Applications',\n          confidence: 0.84,\n          reasoning: 'Since simplicial complexes provide computational models for topological spaces, algorithmic advances could enable new practical applications of homology theory.',\n          evidence: 'Recent computational tools have made persistent homology tractable for large-scale data analysis.',\n          experiments: ['Develop efficient algorithms for higher-dimensional homology', 'Apply to neuroscience data (brain networks)', 'Benchmark against traditional statistical methods']\n        },\n        {\n          title: 'Cohomology Ring Structure May Distinguish Manifolds Beyond Euler Characteristic',\n          confidence: 0.90,\n          reasoning: 'While the Euler characteristic provides a single invariant, the full cohomology ring structure offers richer information for manifold classification.',\n          evidence: 'Cohomology generalizes homology with additional algebraic structure that captures finer topological distinctions.',\n          experiments: ['Compute cohomology rings for families of manifolds', 'Investigate cup product constraints', 'Relate to other invariants (characteristic classes)']\n        }\n      ]\n    };\n    \n    setHypotheses(mockHypotheses[selectedDomain]);\n    setShowHypotheses(true);\n    setIsProcessing(false);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\n      {/* Header */}\n      <header className=\"bg-white shadow-md border-b-4 border-[#C5050C]\">\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <h1 className=\"text-4xl font-bold text-[#C5050C] mb-2\">\n            ðŸ¦¡ Badger Research Graph\n          </h1>\n          <p className=\"text-gray-600 text-lg\">\n            AI-Powered Cross-Disciplinary Research â€¢ UW-Madison\n          </p>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Tabs */}\n        <div className=\"flex space-x-1 mb-6 bg-white rounded-lg shadow-md p-1\">\n          {['ðŸ¦¡ UW Research', 'ðŸ” Search Papers', 'ðŸ“„ Upload Papers'].map((tab, idx) => (\n            <button\n              key={idx}\n              onClick={() => {\n                setActiveTab(idx);\n                setShowHypotheses(false);\n                setSearchProgress('');\n                if (idx === 0) loadExampleData();\n              }}\n              className={`flex-1 py-3 px-6 rounded-md font-semibold transition-all duration-300 ${\n                activeTab === idx\n                  ? 'bg-[#C5050C] text-white shadow-lg'\n                  : 'text-gray-600 hover:bg-gray-100'\n              }`}\n            >\n              {tab}\n            </button>\n          ))}\n        </div>\n\n        {/* Domain Selector */}\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n            Research Domain\n          </label>\n          <select\n            value={selectedDomain}\n            onChange={(e) => {\n              setSelectedDomain(e.target.value);\n              setShowHypotheses(false);\n              setSearchProgress('');\n            }}\n            className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#C5050C] focus:ring focus:ring-red-200 transition-all duration-300 text-lg\"\n          >\n            {Object.entries(DOMAIN_CONFIGS).map(([key, domain]) => (\n              <option key={key} value={key}>\n                {domain.icon} {domain.name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Tab Content */}\n        {activeTab === 0 && (\n          <div>\n            <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n              <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">\n                {currentDomain.example.title}\n              </h2>\n              <div className=\"flex space-x-6 text-sm text-gray-600\">\n                <span>\n                  <strong>{graphData.nodes.length}</strong> entities\n                </span>\n                <span>\n                  <strong>{graphData.links.length}</strong> relationships\n                </span>\n                <span>\n                  <strong>{currentDomain.example.papers.length}</strong> papers\n                </span>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 1 && (\n          <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n            <h2 className=\"text-xl font-bold text-gray-800 mb-4\">\n              Search Academic Literature\n            </h2>\n            <div className=\"flex space-x-3 mb-4\">\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\n                placeholder={getPlaceholderForDomain()}\n                className=\"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#C5050C] focus:ring focus:ring-red-200 transition-all duration-300\"\n              />\n              <button\n                onClick={handleSearch}\n                disabled={isProcessing}\n                className=\"px-8 py-3 bg-[#C5050C] text-white font-semibold rounded-lg hover:bg-red-700 transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Find & Analyze Papers\n              </button>\n            </div>\n            {searchProgress && (\n              <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded\">\n                <p className=\"text-blue-800 font-medium\">{searchProgress}</p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 2 && (\n          <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n            <h2 className=\"text-xl font-bold text-gray-800 mb-4\">\n              Upload Research Papers\n            </h2>\n            <div\n              onDragOver={handleDragOver}\n              onDragLeave={handleDragLeave}\n              onDrop={handleDrop}\n              onClick={() => fileInputRef.current?.click()}\n              className={`border-3 border-dashed rounded-lg p-12 text-center cursor-pointer transition-all duration-300 ${\n                isDragging\n                  ? 'border-[#C5050C] bg-red-50'\n                  : 'border-gray-300 hover:border-[#C5050C] hover:bg-gray-50'\n              }`}\n            >\n              <div className=\"text-6xl mb-4\">ðŸ“„</div>\n              <p className=\"text-lg font-semibold text-gray-700 mb-2\">\n                Drop PDF files here or click to browse\n              </p>\n              <p className=\"text-sm text-gray-500\">\n                Support for multiple PDF research papers\n              </p>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                multiple\n                accept=\".pdf\"\n                onChange={(e) => handleFileUpload(e.target.files)}\n                className=\"hidden\"\n              />\n            </div>\n            {uploadedFiles.length > 0 && (\n              <div className=\"mt-4\">\n                <h3 className=\"font-semibold text-gray-700 mb-2\">Uploaded Files:</h3>\n                <ul className=\"space-y-1\">\n                  {uploadedFiles.map((file, idx) => (\n                    <li key={idx} className=\"text-sm text-gray-600\">\n                      ðŸ“„ {file.name}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n            {searchProgress && (\n              <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded mt-4\">\n                <p className=\"text-blue-800 font-medium\">{searchProgress}</p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Graph Container */}\n        {graphData.nodes.length > 0 && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6\">\n            {/* Legend */}\n            <div className=\"lg:col-span-1\">\n              <div className=\"bg-white rounded-lg shadow-md p-6 sticky top-6\">\n                <h3 className=\"text-lg font-bold text-gray-800 mb-4\">Legend</h3>\n                \n                <div className=\"mb-6\">\n                  <h4 className=\"text-sm font-semibold text-gray-700 mb-3\">Entity Types</h4>\n                  <div className=\"space-y-2\">\n                    {Object.entries(currentDomain.entityTypes).map(([key, type]) => (\n                      <div key={key} className=\"flex items-center space-x-2\">\n                        <div\n                          className=\"w-4 h-4 rounded-full\"\n                          style={{ backgroundColor: type.color }}\n                        />\n                        <span className=\"text-sm text-gray-600\">{type.label}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div>\n                  <h4 className=\"text-sm font-semibold text-gray-700 mb-3\">Relationships</h4>\n                  <div className=\"space-y-2\">\n                    {Object.entries(currentDomain.relationshipTypes).map(([key, type]) => (\n                      <div key={key} className=\"flex items-center space-x-2\">\n                        <div\n                          className=\"w-8 h-0.5\"\n                          style={{ backgroundColor: type.color }}\n                        />\n                        <span className=\"text-sm text-gray-600\">{type.label}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Graph */}\n            <div className=\"lg:col-span-3\">\n              <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n                <ForceGraph2D\n                  ref={graphRef}\n                  graphData={graphData}\n                  nodeLabel=\"label\"\n                  nodeColor=\"color\"\n                  nodeVal=\"val\"\n                  nodeCanvasObject={(node, ctx, globalScale) => {\n                    const label = node.label;\n                    const fontSize = 12 / globalScale;\n                    ctx.font = `${fontSize}px Sans-Serif`;\n                    const textWidth = ctx.measureText(label).width;\n                    const bckgDimensions = [textWidth, fontSize].map(n => n + fontSize * 0.4);\n\n                    ctx.fillStyle = node.color;\n                    ctx.beginPath();\n                    ctx.arc(node.x, node.y, node.val, 0, 2 * Math.PI, false);\n                    ctx.fill();\n\n                    ctx.textAlign = 'center';\n                    ctx.textBaseline = 'middle';\n                    ctx.fillStyle = 'white';\n                    ctx.font = `bold ${fontSize}px Sans-Serif`;\n                    ctx.fillText(label, node.x, node.y);\n                  }}\n                  linkLabel={(link) => `${link.type} (${link.confidence.toFixed(2)})`}\n                  linkColor=\"color\"\n                  linkWidth={2}\n                  linkDirectionalArrowLength={6}\n                  linkDirectionalArrowRelPos={1}\n                  linkCurvature={0.2}\n                  onLinkClick={handleEdgeClick}\n                  width={800}\n                  height={600}\n                  backgroundColor=\"#f9fafb\"\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Generate Hypotheses Button */}\n        {graphData.nodes.length > 0 && (\n          <div className=\"text-center mb-6\">\n            <button\n              onClick={generateHypotheses}\n              disabled={isProcessing}\n              className=\"px-10 py-4 bg-[#C5050C] text-white text-lg font-bold rounded-lg hover:bg-red-700 transition-all duration-300 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isProcessing ? 'ðŸ”„ Generating...' : 'ðŸ§ª Generate Research Hypotheses'}\n            </button>\n          </div>\n        )}\n\n        {/* Hypotheses Display */}\n        {showHypotheses && hypotheses.length > 0 && (\n          <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">\n              Generated Research Hypotheses\n            </h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {hypotheses.map((hyp, idx) => (\n                <div\n                  key={idx}\n                  className=\"border-2 border-gray-200 rounded-lg p-6 hover:border-[#C5050C] transition-all duration-300 hover:shadow-lg\"\n                >\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <h3 className=\"text-lg font-bold text-gray-800 flex-1\">\n                      {hyp.title}\n                    </h3>\n                    <span\n                      className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                        hyp.confidence >= 0.85\n                          ? 'bg-green-100 text-green-800'\n                          : hyp.confidence >= 0.75\n                          ? 'bg-yellow-100 text-yellow-800'\n                          : 'bg-orange-100 text-orange-800'\n                      }`}\n                    >\n                      {(hyp.confidence * 100).toFixed(0)}%\n                    </span>\n                  </div>\n                  \n                  <div className=\"space-y-3\">\n                    <div>\n                      <h4 className=\"text-sm font-semibold text-gray-700 mb-1\">\n                        Reasoning:\n                      </h4>\n                      <p className=\"text-sm text-gray-600\">{hyp.reasoning}</p>\n                    </div>\n                    \n                    <div>\n                      <h4 className=\"text-sm font-semibold text-gray-700 mb-1\">\n                        Evidence:\n                      </h4>\n                      <p className=\"text-sm text-gray-600 italic\">{hyp.evidence}</p>\n                    </div>\n                    \n                    <div>\n                      <h4 className=\"text-sm font-semibold text-gray-700 mb-1\">\n                        Suggested Experiments:\n                      </h4>\n                      <ul className=\"text-sm text-gray-600 list-disc list-inside space-y-1\">\n                        {hyp.experiments.map((exp, expIdx) => (\n                          <li key={expIdx}>{exp}</li>\n                        ))}\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Papers List */}\n        {activeTab === 0 && currentDomain.example.papers && (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h2 className=\"text-xl font-bold text-gray-800 mb-4\">\n              Source Publications\n            </h2>\n            <div className=\"space-y-3\">\n              {currentDomain.example.papers.map((paper, idx) => (\n                <div\n                  key={idx}\n                  className=\"border-l-4 border-[#C5050C] bg-gray-50 p-4 rounded-r-lg\"\n                >\n                  <h3 className=\"font-semibold text-gray-800\">{paper.title}</h3>\n                  <p className=\"text-sm text-gray-600 mt-1\">\n                    {paper.authors} â€¢ {paper.year} â€¢ {paper.journal}\n                  </p>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Edge Detail Modal */}\n      {showEdgeModal && selectedEdge && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n          onClick={() => setShowEdgeModal(false)}\n        >\n          <div\n            className=\"bg-white rounded-lg shadow-2xl max-w-2xl w-full p-8\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"flex items-start justify-between mb-6\">\n              <h2\n                className=\"text-2xl font-bold\"\n                style={{ color: selectedEdge.color }}\n              >\n                {selectedEdge.type}\n              </h2>\n              <button\n                onClick={() => setShowEdgeModal(false)}\n                className=\"text-gray-400 hover:text-gray-600 text-2xl\"\n              >\n                Ã—\n              </button>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div>\n                <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">\n                  Relationship\n                </h3>\n                <p className=\"text-lg text-gray-800\">\n                  <span className=\"font-semibold\">{selectedEdge.source.label || selectedEdge.source}</span>\n                  {' â†’ '}\n                  <span className=\"font-semibold\">{selectedEdge.target.label || selectedEdge.target}</span>\n                </p>\n              </div>\n\n              <div>\n                <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">\n                  Confidence Score\n                </h3>\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"flex-1 bg-gray-200 rounded-full h-4\">\n                    <div\n                      className=\"h-4 rounded-full transition-all duration-300\"\n                      style={{\n                        width: `${selectedEdge.confidence * 100}%`,\n                        backgroundColor: selectedEdge.color\n                      }}\n                    />\n                  </div>\n                  <span className=\"text-lg font-bold text-gray-800\">\n                    {(selectedEdge.confidence * 100).toFixed(0)}%\n                  </span>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">\n                  Evidence\n                </h3>\n                <p className=\"text-gray-700 italic bg-gray-50 p-4 rounded-lg border-l-4\" style={{ borderColor: selectedEdge.color }}>\n                  \"{selectedEdge.evidence}\"\n                </p>\n              </div>\n\n              <div>\n                <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">\n                  Source\n                </h3>\n                <p className=\"text-gray-600\">\n                  Page {selectedEdge.page}\n                </p>\n              </div>\n            </div>\n\n            <div className=\"mt-8 text-right\">\n              <button\n                onClick={() => setShowEdgeModal(false)}\n                className=\"px-6 py-2 bg-[#C5050C] text-white font-semibold rounded-lg hover:bg-red-700 transition-all duration-300\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n```\n</react_app>"
    }
  ],
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "usage": {
    "input_tokens": 2352,
    "cache_creation_input_tokens": 0,
    "cache_read_input_tokens": 0,
    "output_tokens": 15472
  }
}
